@using Amazon.Runtime.Internal

<rect class="menu" x="@X" y="@Y" rx="5" width="20" height="@Height" style="display: @DisplayState;"/>

@code {
    //[Parameter]
    //public EventCallback<bool> ValueChanged { get; set; }

    private bool IsVisible = false;

    private string DisplayState => IsVisible ? "block" : "none";

    [CascadingParameter(Name = "X")] 
    public double X { get; set; }

    [CascadingParameter(Name = "Y")]
    public double Y { get; set; }

    public double Height { get; set; } = 30;

    //even though we access the methods below and successfully update the displayState value,
    //we don't change the actual value inside the html for some reason.
    public void ToggleMenu()
    {
        IsVisible = !IsVisible;
        StateHasChanged();
    }

    protected override void OnInitialized()
    {
        
        base.OnInitialized();
    }

    //private bool _value;
    //[Parameter]
    //public bool Value
    //{
    //    get { return _value; }
    //    set
    //    {
    //        if (_value != value)
    //        {
    //            _value = value;
    //            ValueChanged.InvokeAsync(_value);
    //        }
    //    }
    //}
}
