@using System.Drawing
@using Amazon.Runtime.Internal
<g transform="translate(@x, @y)">
    <circle r="@Radius" class="entity" style="fill: @Color"/>
</g>

@code
{

    [Parameter]
    public Guid Id { get; set; }

    [Parameter]
    public double Radius { get; set; }

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    double? x;

    [Parameter]
    public string Color { get; set; }

    [Parameter]
    public double X
    {
        get { return x ?? 0; }
        set => x = value;
    }

    //[Parameter]
    //public EventCallback<double> XChanged { get; set; }

    double? y;

    [Parameter]
    public double Y
    {
        get { return y ?? 0; }
        set => y= value;
    }

    //[Parameter]
    //public EventCallback<double> YChanged { get; set; }

    public Connector.Direction DeterminePositionOfConnection(double x1, double y1, double x2, double y2)
    {
        if (x1 < x2 && y1 < y2)
            return Connector.Direction.Left;
        else if (x1 > x2 && y1 > y2)
            return Connector.Direction.Right;
        else if (x1 < x2 && y1 > y2)
            return Connector.Direction.Top;

        return Connector.Direction.Bottom;
    }

}
